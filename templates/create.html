{% extends "layout.html" %}

{% block title %}
Create
{% endblock %}

{% block main %}
<h1 class="text-danger">Create Cards</h1>
<form action="/create" method="post" style="display:block" id="cards-form">
    {% for card in cards %}
    <div class="form-group">
        <label for="{{ card.user_id }}-person">{{ card.rank }} of {{ card.suit }} (Person)</label>
        <input placeholder="(Person)" type="text" class="form-half form-control center-text" name="person_{{ card.std_card_id }}" id="person_{{ card.std_card_id }}>
    </div>
    <div class="form-group">
        <label for="{{ card.user_id }}-action">{{ card.rank }} of {{ card.suit }} (Action)</label>
        <input placeholder="(Action)" type="text" class="form-half form-control center-text" name="action_{{ card.std_card_id }}" id="action_{{ card.std_card_id }}">
    </div>
    <div class="form-group">
        <label for="{{ card.user_id }}-object">{{ card.rank }} of {{ card.suit }} (Object)</label>
        <input placeholder="(Object)" type="text" class="form-half form-control center-text" name="obj_{{ card.std_card_id }}" id="obj_{{ card.std_card_id }}">
    </div>
    {% endfor %}
    <button class="btn btn-primary" type="submit">Save</button>
</form>
<!--Below is the most recent that we keep-->
<script>
    const cards = JSON.parse('{{ cards|tojson|safe }}');
    cards.forEach((card) => {
        const personInput = document.querySelector(`input[name='person_${card.std_card_id}']`);
        personInput.value = card.person;
    });
</script>
{% endblock %}



